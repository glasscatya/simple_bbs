<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf8">
    <title>登陆页面</title>
    <style>

    </style>
  </head>
  <body>
    <fieldset>请登录
     <form action="">
        <div>
          <span>账号:</span>
          <input type="text" name="username" placeholder="请输入账号">
        </div>
        <div>
          <span>密码:</span>
          <input type="password" name="password" placeholder="请输入密码">
        </div>
     </form>
     <input type="button" id="btnLogin" value="登录">
     <a href="/zhuce">没有账号？注册一个</a>
    </fieldset>
  </body>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
  <!-- <script src="./javascripts/template.js"></script> -->
  <script>
    // 
    // 登录的前端
    // 
    $('#btnLogin').click(() => {
      $.ajax({
      url:'/btnlogin',
      type:'POST',
      data:$('form').serialize()
    }).then(res => {
      
      if(res.message == '错误') {
        alert('账号或密码错误,请重新登录');
        $('input[name=username]').val('');
        $('input[name=password]').val('');
        $('input[name=username]').focus();
      } else if(res.message == '成功') {
        window.location.replace('/index');
      }
    });
    });
  </script>
</html>